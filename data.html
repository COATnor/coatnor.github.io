
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data upload &#8212; COAT Data Portal 0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data download" href="download.html" />
    <link rel="prev" title="Upload a protocol" href="protocol.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="data-upload">
<span id="data"></span><h1>Data upload<a class="headerlink" href="#data-upload" title="Permalink to this headline">¶</a></h1>
<div class="section" id="check-for-protocol">
<h2>Check for protocol<a class="headerlink" href="#check-for-protocol" title="Permalink to this headline">¶</a></h2>
<p><strong>Warning:</strong> Before uploading a dataset you have to be sure that the related protocol is already in the portal.
If it’s not yet available, follow the instruction for <a class="reference internal" href="protocol.html#protocol"><span class="std std-ref">protocol upload</span></a></p>
</div>
<div class="section" id="upload-a-dataset">
<h2>Upload a dataset<a class="headerlink" href="#upload-a-dataset" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Login with a user with editor role for the module the dataset belongs to</p></li>
<li><p>Go to Datasets and select “Add Dataset” (if not visible, you are not authorized: contact the module leader)</p></li>
</ul>
<a class="reference internal image-reference" href="_images/addataset.png"><img alt="_images/addataset.png" class="align-center" src="_images/addataset.png" style="width: 92%;" /></a>
</div>
<div class="section" id="edit-metadata">
<h2>Edit metadata<a class="headerlink" href="#edit-metadata" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The first operation required to add a new dataset to the portal is editing the metadata:</p></li>
<li><p><strong>Title (mandatory):</strong> should be identical to the dataset name (formatted according the <a class="reference internal" href="formatting.html#formatting"><span class="std std-ref">formatting rules</span></a>). It should start with a conventional prefix (starting with V_ for datasets from Varanger and S_ for datasets from Svalbard)</p></li>
<li><p><strong>Module (mandatory):</strong> Select the module related to the dataset. The user need to be editor for the module.</p></li>
<li><p><strong>Description (mandatory):</strong> Add a short description of the dataset. Here an example in Markdown format:</p></li>
</ul>
<img alt="_images/title.png" class="align-center" src="_images/title.png" />
<ul class="simple">
<li><p><strong>Tags:</strong> Choose a list of keywords from a controlled vocabulary</p></li>
<li><p><strong>Topic Category Code:</strong> This is a general category for classifying data, following a commonly used standard in data repositories</p></li>
</ul>
<a class="reference internal image-reference" href="_images/tags.png"><img alt="_images/tags.png" class="align-center" src="_images/tags.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p><strong>Embargo:</strong> Select an embargo policy. If the dataset doesn’t require an embargo, go on with next point. If your dataset include data less than 2 years old, you could select an embargo end date. Read the detailed instructions on how to manage embargo data and dataset versions <a class="reference internal" href="#embargo"><span class="std std-ref">here</span></a></p></li>
</ul>
<a class="reference internal image-reference" href="_images/embargo.png"><img alt="_images/embargo.png" class="align-center" src="_images/embargo.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p><strong>License:</strong> Defines which License is given to data. Defaults to CC-BY 4.0, chosen as the COAT project’s license for data.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/license.png"><img alt="_images/license.png" class="align-center" src="_images/license.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p><strong>Contact Person (mandatory):</strong> It is the name of the person responsible for the dataset. Coul be different from the person editing metadata. choosen from the list of registered users.</p></li>
<li><p><strong>Email Address:</strong> of the contact person.</p></li>
<li><p><strong>Title of Position:</strong> What is the professional role of the contact person?</p></li>
<li><p><strong>Organization Name (mandatory):</strong> Which of the COAT partner Institutions is responsible for the dataset?</p></li>
<li><p><strong>Associated Parties:</strong> Sometimes external institutions are involved. Not part of the Organization list above.</p></li>
<li><p><strong>Persons:</strong> Are there other key people related to the dataset? Ex: Field Technicians, PhD students, etc.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/contacts.png"><img alt="_images/contacts.png" class="align-center" src="_images/contacts.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p><strong>Temporal Extent:</strong> What is the time span of the included data?</p></li>
</ul>
<a class="reference internal image-reference" href="_images/temporal.png"><img alt="_images/temporal.png" class="align-center" src="_images/temporal.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p><strong>Geographic Location:</strong> choose one or more locations related to the dataset collection. It is a hierarchical taxonomy of locations. From the location names bounding boxes are chosen, used also for geographical filtering of the datasets on the minimap.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/location.png"><img alt="_images/location.png" class="align-center" src="_images/location.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p><strong>Scientific Name:</strong> One or more choices allowed. Scientific names of the species described by the datasets</p></li>
</ul>
<a class="reference internal image-reference" href="_images/scientific.png"><img alt="_images/scientific.png" class="align-center" src="_images/scientific.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p><strong>Associated Scripts:</strong> A link to the repository with the scripts related to the dataset.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/scripts.png"><img alt="_images/scripts.png" class="align-center" src="_images/scripts.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p><strong>Associated Study Protocol (mandatory):</strong> This is the study protocol describing the dataset, choosen from he available ones. A study protocol needs to be added in its specific section before adding a dataset.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/m_protocol.png"><img alt="_images/m_protocol.png" class="align-center" src="_images/m_protocol.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p><strong>Bibliographic Citation:</strong> TODO</p></li>
</ul>
<a class="reference internal image-reference" href="_images/embargo.png"><img alt="_images/embargo.png" class="align-center" src="_images/embargo.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p><strong>Funding Source:</strong> Describe the source of funding, if relevant.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/funding.png"><img alt="_images/funding.png" class="align-center" src="_images/funding.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p>After filling all metadata, select Next: “Add data”</p></li>
</ul>
<a class="reference internal image-reference" href="_images/next.png"><img alt="_images/next.png" class="align-center" src="_images/next.png" style="width: 92%;" /></a>
<ul class="simple">
<li><p>Upload all the data file in the following order, add a filename (best to keep the file’s name by click on “Fill field with filename or URL”) and choose the correct file format</p></li>
</ul>
<p><a class="reference internal" href="#data"><span class="std std-ref">go back to top of the page</span></a></p>
</div>
<div class="section" id="data-files-upload-order">
<h2>Data files upload order<a class="headerlink" href="#data-files-upload-order" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Upload the <strong>readme</strong> file as a PDF/A. A description can be added, for example: “Additional information about the dataset, including a description of the variables included in the dataset”</p></li>
<li><p>Upload the <strong>auxiliary file/s</strong> A description can be added, for example: “Auxiliary information about the sampling sites including information about whem the site has been included in the sampling design”</p></li>
<li><p>Upload the <strong>coordinates</strong> file. A description can be added, for example: “Coordinates of all sites included in the dataset”</p></li>
<li><p>Upload all <strong>data files</strong> in chronological order (from older to newer)</p></li>
</ol>
</div>
<div class="section" id="private-or-public-datasets">
<h2>Private or public datasets<a class="headerlink" href="#private-or-public-datasets" title="Permalink to this headline">¶</a></h2>
<p>When a dataset is created, it defaults to “private” status.
A private dataset is not visible or accessible by unregistered or regular users.
Only logged-in users which are members or editors of the module including the dataset can see it</p>
</div>
<div class="section" id="publishing-the-dataset">
<h2>Publishing the dataset<a class="headerlink" href="#publishing-the-dataset" title="Permalink to this headline">¶</a></h2>
<p>After the upload is completed, the dataset can be set to <em>‘Public’</em> by selecting <strong>‘Manage’</strong> in the
menu of the dataset and setting the <em>‘Visibility’</em> metadata element to <em>‘Public’</em>.</p>
<img alt="_images/manage.png" src="_images/manage.png" />
<img alt="_images/arrow.png" class="align-center" src="_images/arrow.png" />
<img alt="_images/visibility.png" src="_images/visibility.png" />
<p><a class="reference internal" href="#data"><span class="std std-ref">go back to top of the page</span></a></p>
</div>
<div class="section" id="dataset-versions">
<h2>Dataset Versions<a class="headerlink" href="#dataset-versions" title="Permalink to this headline">¶</a></h2>
<p>Datasets already published cannot be removed or modified, because of the FAIR requirement of being permanent and findable for citation and reuse purposes.
whenever a dataset content changes, it is necessary to create a new version of it.</p>
<p>Whenever a dataset gets created, the system automatically adds a <strong>version prefix</strong>: At the first dataset creation the dataset will have “_v1” added at the end of the name.
When the dataset has been published, it is possible to modify it’s content only by creating a new version. To create a new version, click on the “New Version” button:</p>
<img alt="_images/newversions.png" src="_images/newversions.png" />
<p>This will create a new version, which will be visible on the left bar, with buttons to switch from version to version:</p>
<img alt="_images/versions.png" src="_images/versions.png" />
<p>Every version of a dataset has it’s own identity and <strong>DOI</strong>, which allows accurate dataset citation in publications at the version level.
Whenever visualizing an older version of a dataset, a friendly reminder will inform the user that it is an older version, with a link to the latest.</p>
<img alt="_images/oldversion.png" src="_images/oldversion.png" />
<p>When accessing to a dataset’s main page, it will always show <strong>the latest public version</strong> of the dataset</p>
<p><a class="reference internal" href="#data"><span class="std std-ref">go back to top of the page</span></a></p>
</div>
<div class="section" id="updating-a-dataset">
<h2>Updating a dataset<a class="headerlink" href="#updating-a-dataset" title="Permalink to this headline">¶</a></h2>
<p>After creating a <strong>new version</strong> of a dataset, which is identical to the previous version at the moment of creation,
a user should modify the dataset to add data files or modify metadata.</p>
<p>For both operations a user needs to click on the “Manage” button (top right) of the dataset page:</p>
<img alt="_images/manage.png" src="_images/manage.png" />
<p>The “manage” button will bring the user to the editing section for a dataset, defaulting to metadata editing.
If a user needs to upload new data files instead, it is enough to click on the “Resources” TAB, then “Add new resource”:</p>
<img alt="_images/updateresources.png" src="_images/updateresources.png" />
<p><a class="reference internal" href="#data"><span class="std std-ref">go back to top of the page</span></a></p>
</div>
<div class="section" id="upload-a-state-variable">
<h2>Upload a State Variable<a class="headerlink" href="#upload-a-state-variable" title="Permalink to this headline">¶</a></h2>
<p>state Variables are a special type of secundary dataset,
which are calculated from primary data originating either from within COAT or from external sources.
The <em>State Variables</em> are the primary input to the quantitative analysis and predictive modelling performed in COAT.</p>
<img alt="_images/statevariabletab.png" src="_images/statevariabletab.png" />
<p>State Variable management is similar to the dataset management, with the exception of having less metadata elements and one specific metadata element added.
In fact, State Variables are derived from input datasets listed under the “Datasets” TAB, and contain provenance information in their metadata.
Specifically, while adding a new State Variable, a user selects a list of associated data picked from the input datasets available in the portal:</p>
<img alt="_images/associated.png" src="_images/associated.png" />
<p>It is possible to pick specific versions of the datasets, and information about the time span covered by the dataset’s version will be visible.</p>
<p><a class="reference internal" href="#data"><span class="std std-ref">go back to top of the page</span></a></p>
</div>
<div class="section" id="embargo-management">
<span id="embargo"></span><h2>Embargo management<a class="headerlink" href="#embargo-management" title="Permalink to this headline">¶</a></h2>
<p>Datasets in embargo follow a particular setup, which guarantees availability of older data contents and protection of more recent ones.</p>
<p>By default COAT data follow an Open Data policy. There is however the possibility to set an embargo for data files up to 2 years old.</p>
<p><strong>Warning:</strong> <em>the embargo management is a bit complex, please read carefully the details below:</em></p>
<p>When a dataset contains <strong>data files</strong> which should be kept in embargo (not reachable),
there is a specific workflow to follow, which implies the use of <strong>dataset versions</strong>.
It requires to create more than one version of a dataset, with the first version without an embargo, with data files reachable, and one or two versions in embargo, without data access.
Such a workflow allows visualizing the most updated metadata, and the list of files, but keeps accessible only data from the non-embargoed dataset.</p>
<p>A user selects the embargo end date for the versions with embargo data files.
A dataset version in embargo will keep <strong>all the data files</strong> inaccessible until the embargo end date, then will automatically make them available at the embargo end date.
Non-authorized users will be informed that a dataset is under embargo, and need to look for a previous version (the one with non-embargoed data files)</p>
<p>Let’s see an example…</p>
<p>Ola Nordmann is a data portal’s editor. On January 1st 2021 he decides to upload a new dataset containing one data file per year (from 2000 to 2020).
Since he is working on a PhD thesis, he opts for keeping the latest 2 years of data in embargo (the only eligible for such exception).
No one will blame Ola Normann for this choice, even if everyone knows that keeping all the data public is the best.</p>
<p>Here his workflow:</p>
<ul class="simple">
<li><p>Ola creates the first dataset version, which contains only data which can be public (from year 2000 to year 2018), and calls it “sample_dataset”.</p></li>
<li><p>This dataset will be automatically labelled as “sample_dataset_v1”.</p></li>
<li><p>Ola publishes “sample_dataset_v1”.</p></li>
<li><p>Ola creates a new version using the “New Version” button, which will create automatically “sample_dataset_v2”.</p></li>
<li><p>Ola adds 1 data file containing data for the year 2019, so that “sample_dataset_v2” contains data from 2000 to 2019.</p></li>
<li><p>Ola sets the embargo end date on January 1st 2022, and publishes “sample_dataset_v2”.</p></li>
<li><p>Ola creates a third version of the dataset, “sample_dataset_v3” including year 2020, with embargo end date January 1st 2023.</p></li>
<li><p>Ola publishes also “sample_dataset_v3”</p></li>
<li><p>Ola may use python or R (ckanr) scripts using his api key credentials to download even the embargo files whenever needed.</p></li>
<li><p>After 1 year, “sample_dataset_v2” removes all the blocks to data access, letting available also data from year 2019, and becomes the default version of the dataset (the latest published version).</p></li>
<li><p>Ola now has one more year of data, 2021, and creates a new version, including 2000 - 2021 (embargoed) with embargo end date january 1st 2023.</p></li>
<li><p>And so on…</p></li>
</ul>
<p><a class="reference internal" href="#data"><span class="std std-ref">go back to top of the page</span></a></p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">COAT Data Portal</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About the Data Portal</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="users.html">User types</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="formatting.html">Data formatting</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="check.html">Quick check</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="protocol.html">Upload a protocol</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data upload</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#check-for-protocol">Check for protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="#upload-a-dataset">Upload a dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#edit-metadata">Edit metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-files-upload-order">Data files upload order</a></li>
<li class="toctree-l2"><a class="reference internal" href="#private-or-public-datasets">Private or public datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#publishing-the-dataset">Publishing the dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dataset-versions">Dataset Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-a-dataset">Updating a dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#upload-a-state-variable">Upload a State Variable</a></li>
<li class="toctree-l2"><a class="reference internal" href="#embargo-management">Embargo management</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="download.html">Data download</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="protocol.html" title="previous chapter">Upload a protocol</a></li>
      <li>Next: <a href="download.html" title="next chapter">Data download</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Matteo De Stefano.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/data.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>